<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${cspSource} 'unsafe-inline'; script-src ${cspSource} 'nonce-${nonce}'; img-src ${cspSource} data:;">
    <link href="${styleUri}" rel="stylesheet">
    <title>dLNk AI Chat</title>
</head>
<body>
    <div class="chat-container">
        <!-- Header -->
        <div class="chat-header">
            <div class="header-title">
                <span class="logo">ðŸ¤–</span>
                <span>dLNk AI</span>
            </div>
            <div class="header-status">
                <span class="status-dot disconnected" id="statusDot"></span>
                <span class="status-text" id="statusText">Disconnected</span>
            </div>
        </div>
        
        <!-- Messages -->
        <div class="messages-container" id="messagesContainer">
            <div class="welcome-message">
                <div class="welcome-icon">ðŸš€</div>
                <h3>Welcome to dLNk AI</h3>
                <p>Your AI-powered code assistant. Ask me anything about coding!</p>
                <div class="quick-actions">
                    <button class="quick-action" data-action="explain">Explain Code</button>
                    <button class="quick-action" data-action="generate">Generate Code</button>
                    <button class="quick-action" data-action="fix">Fix Code</button>
                </div>
            </div>
        </div>
        
        <!-- Typing Indicator -->
        <div class="typing-indicator" id="typingIndicator">
            <span class="typing-dot"></span>
            <span class="typing-dot"></span>
            <span class="typing-dot"></span>
            <span class="typing-text">AI is thinking...</span>
        </div>
        
        <!-- Input -->
        <div class="input-container">
            <textarea 
                id="messageInput" 
                placeholder="Ask me anything..." 
                rows="1"
            ></textarea>
            <button id="sendButton" class="send-button" title="Send message">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M1.724 1.053a.5.5 0 0 0-.714.545l1.403 4.85a.5.5 0 0 0 .397.354l5.69.953c.268.053.268.437 0 .49l-5.69.953a.5.5 0 0 0-.397.354l-1.403 4.85a.5.5 0 0 0 .714.545l13-6.5a.5.5 0 0 0 0-.894l-13-6.5z"/>
                </svg>
            </button>
        </div>
    </div>
    
    <script nonce="${nonce}" src="${scriptUri}"></script>
</body>
</html>
